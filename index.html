<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
       <link href="css/extras.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="phonegap.js"></script>
   
   
    
  </head>
  <body>
    

        
        <div class="container-fluid">
            	<div class="row">
                
                	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                         <nav class="nav nav-stacked navbar-fixed-top">
                        	<a href="#" class="logo"><img src="images/g-code-logo.jpg" /></a>
                            
                            <ul>
                            	<li><a href="#">About <i class="fa fa-location-arrow"></i></a></li>
                            </ul>
                         </nav>	

                    </div>
                   </div>
                    
                  <div class="row" style="margin-top:60px;">  
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <select name="category" class="text-element" id="category">
                                <option value="">Select Category</option>
                                <option value="#Polling">Polling</option>
                                <option value="#Security">Security</option>
                                <option value="#Health">Health</option>
                                <option value="#Flood">Flood</option>
                                <option value="#Traffic">Traffic</option>
                                <option value="#CivilDisturbance">Civil Disturbance</option>
                              </select>
                      </div>
                      
                       <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                       
                            <div class="border-rad" id="pic">
                            		
                                <!--<center> <i class="fa-5x fa-camera"></i> </center>-->
                                <center><img src="images/camera-icon.png" height="100px"></center>
                            </div>
                            
                            <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                                <textarea placeholder="Enter your Comment/Review" id="comment" rows="5" class="text-element1"> </textarea>
                            </div>
                            
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">
                                <button class="btn btn-success text-btn" id="loc"><i class="fa fa-upload"></i> Send</button>
                            </div>
                            
                          
                           
                           
                           <img  src="images/g-code-logo2.png" class="border-rad" />
                           
                           <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                               <img src="images/g-code-logo2.png" class="border-rad" />
                           </div>
                           
                           <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                               <img src="images/g-code-logo2.png" class="border-rad" />
                           </div>
                            
                     </div>
                      
                  </div>
                
            	</div>
      </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

     <script src="js/memory-store.js"></script>

      <script src="js/main.js"></script>

    <script type="text/javascript">
    $(document).ready(function()
    {

    	console.log( "ready!" );
$("#loc").click( function() {
    //ev.preventDefault();
    console.log('addLocation');
    navigator.geolocation.getCurrentPosition(
        function(position) {
            $('.location', this.el).html(position.coords.latitude + ',' + position.coords.longitude);
            alert(position.coords.latitude + ',' + position.coords.longitude);



			$.post( "http://localhost/g-code/api/location", 
				{ gcode: 'LA100' , lat: position.coords.latitude , lng: position.coords.longitude }, function( data ) {
				$( ".result" ).html( data );
			});	
        },
        function() {
            alert('Error getting location');
        });
    return false;
});


$("#pic").click( function(event) {

event.preventDefault();
    if (!navigator.camera) {
        app.showAlert("Camera API not supported", "Error");
        return;
    }

    var options =   {   quality: 50,
                        destinationType: Camera.DestinationType.DATA_URL,
                        sourceType: 1,      // 0:Photo Library, 1=Camera, 2=Saved Photo Album
                        encodingType: 0     // 0=JPG 1=PNG
                    };

     navigator.camera.getPicture(
        function(imageData) {
            $('.employee-image', this.el).attr('src', "data:image/jpeg;base64," + imageData);
        },
        function() {
            app.showAlert('Error taking picture', 'Error');
        },
        options);
 
return false;

	});



    });

    </script>
  </body>
</html>